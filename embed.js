(()=>{"use strict";(()=>{function e(){return window.innerWidth<=800?"2350px":"1100px"}function n(){const{hostname:e,search:n}=window.location;return e.includes("localhost")||e.includes("127.0.0.1")?"dev":"staging"===new URLSearchParams(n).get("environment")?"staging":"production"}const t={captureParentData(){const e=new URLSearchParams(window.location.search);return{landing_url:window.location.href,landing_url_params:Object.fromEntries(e.entries()),user_agent:window.navigator.userAgent,referrer_url:document.referrer,referrer_url_params:document.referrer?Object.fromEntries(new URL(document.referrer).searchParams.entries()):{}}},encodeForURL(e){const n={parent_data:encodeURIComponent(JSON.stringify(e))};return Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")}};window.__supermove_forms__=window.__supermove_forms__||new Map,window.SupermoveEmbed={init(e,n={}){var r;const o=n.container||`supermove-form-${e}`,s=document.getElementById(o);if(!s)return void console.error(`[Supermove]: Could not find element with id ${o}`);const a=t.captureParentData(),i={id:e,container:s,parentData:a,startTime:Date.now()};null===(r=window.__supermove_forms__)||void 0===r||r.set(e,i),this.renderIframe(e,s,a,n),this.setupDebug(e,i)},renderIframe(r,o,s,a){this.setupContainer(o);const i=document.createElement("iframe"),c=function(){const e=n();return"dev"===e?"http://localhost:9004":"production"===e?"http://localhost:9004":`https://customer.${e}.supermove.co`}(),d=t.encodeForURL(s);i.src=`${c}/0/lead-forms/${r}?${d}`,i.style.cssText=`\n        width: 100%;\n        height: ${e()};\n        margin: 0;\n        border: none;\n        overflow: hidden;\n      `,i.loading="lazy",this.setupIframeMessaging(i,r,s),o.appendChild(i)},setupContainer(n){n.style.cssText=`\n        display: flex;\n        flex-direction: column;\n        margin: 0;\n        width: 100%;\n        align-items: center;\n        justify-content: center;\n        min-height: ${e()};\n      `},setupIframeMessaging(e,n,t){window.addEventListener("message",(n=>{n.origin.includes("supermove.co")&&"supermove_resize"===n.data.type&&(e.style.height=`${n.data.height}px`)})),e.onload=()=>{var n;null===(n=e.contentWindow)||void 0===n||n.postMessage({type:"supermove_parent_data",data:t},e.src)}},setupDebug(e,t){window.__supermove_debug__=()=>{console.log("Form ID:",e),console.log("Environment:",n()),console.log("Form Instance:",t),console.log("Parent Data:",t.parentData)}}},window.addEventListener("resize",(()=>{var n;null===(n=window.__supermove_forms__)||void 0===n||n.forEach(((n,t)=>{const{container:r}=n;r.style.minHeight=e()}))})),document.addEventListener("touchmove",(e=>{e.target instanceof HTMLElement&&e.target.closest(".supermove-form-wrapper")}),{passive:!0})})()})();